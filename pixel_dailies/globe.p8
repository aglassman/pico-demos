pico-8 cartridge // http://www.pico-8.com
version 36
__lua__
flakes = {}

reset_globe=function()
	for i=0,500 do
		if rnd(1) > .0 then
		flakes[i]={x=rnd(128), y=rnd(200)}
		end	
	end
end

function _init()
	reset_globe()
end

shake=true
shakes=0


frame = 0

function _update()

	if shake then
		shakes += 1
	end

	if shakes > 30 then
		shakes = 0
		shake = false
	end

	if(not shake and btnp(❎)) then
		shake=true
		reset_globe()
	end

	frame += 1
	
	if frame % 3 == 0 and shake then
		dx *= -1
	end
	
	if frame % 2 == 0 then
		for f in all(flakes) do
			f.y += rnd(1)
			local delta = sin(time()/4 + rnd(.1))
			if rnd(1) > .5 then
				f.x += delta 
			else
				f.x -= delta
			end	
		end
	end	
end

dx=3

function _draw()
	cls()
--	rectfill(0,0,128,128,2)
	palt(0,false)
	palt(11,true)

	 local sx = 0
	 
	 if shake then
	 	sx = dx
	 end
	
		spr(8,30 + sx,25,8,10)
	
		for f in all(flakes) do
			pset(f.x + sx, f.y, 7)
		end
	
		rectfill(0,0,128,24,0)
		rectfill(0,0,29 + sx,128,0)
		rectfill(0,105,128,128,0)
		rectfill(94 + sx,0,128,128,0)
	
		spr(0,30 + sx,25,8,10)


end
__gfx__
0000000000000000000000000077777777777700000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
00000000000000000000007777bbbbbbbbbbbb77770000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000777bbbbbbbbbbbbbbbbbbbb7770000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000077bbbbbbbbbbbbbbbbbbbbbbbbbb7700000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
00000000000000077bbbbbbbbbbbbbbbbbbbbbbbbbbbbbb77000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
000000000000007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb700000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
00000000000007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000000077bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7700000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
00000000007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
000000007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb700000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
00000007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
00000007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70000000bbbbbbbbbbbbbbbbbbbbbbbb7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7000000bbbbbbbbbbb7bbbbbbb7bbb7bbbbbbb8bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
000007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb700000bbbbbbbbbbbb7bbbbbbb7bb7bbbb8889bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
00007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70000bbbbbbbbbbbb7bbbbb7bb7b7b7bbb88bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
00007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70000bbbbbbbbb77b7bbbb7bbbb7bbb7bbb7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7000bbbbbbbbbbb5b7bb67bbbb7bbb6bbb7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7000bbbbbbbbbbbb77bb7b7b7b7bbbb7b7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb700bbbbbbbbbbbbbb77bbbbb7bbbbbb6bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb700bbbbbbbbbbbbbb77bbbbb7bbbbb7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb700bbbbbbbbbbbbbb567bbbb77bbb57bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
07bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70bbbbbbbb7bbbbb77b7b7bb77b77bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
07bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70bbbbbbbbb76bbbb77b7bbb56777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
07bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70bbbbbbbbbbb7b7767b7b7bb777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
07bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70bbbbbbbbbbbb77776bb7bbb777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7bbbbbbbbbbb7bb557bb77bb556bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7bbbbbbbbb65bbbb777777bb777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7bbbbbbbbbbbbbbbb7777bbb677bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7bbbbbbbbbbbbbbbbb577bb7777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7bbbbbbbbbbbbbbbbb777b5577bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7bbbbbbbbbbbbbbbbb7767777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7bbbbbbbbbbbbbbbbb777777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7bbbbbbbbbbbbbbbbbb5667bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7bbbbbbbbbbbbbbbbbb7777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7bbbbbbbbbbbbbbbbbb5777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7bbbbbbbbbbbbbbbbbb7777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
7bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7bbbbbbbbbbbbbbbbbb7767bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
07bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70bbbbbbbbbbbbbbbbbb5777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
07bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70bbbbbbbbbbbbbbbbbb7777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
07bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70bbbbbbbbbbbbbbbbbb7777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
07bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70bbbbbbbbbbbbbbbbbb5667bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb700bbbbbbbbbbbbbbbbbbb7777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb700bbbbbbbbbbbbbbbbbbb7777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb700bbbbbbbbbbbbbbbbbbb7567bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7000bbbbbbbbbbbbbbbbbbb5777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7000bbbbbbbbbbbbbbbbbbb7777bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
00007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70000bbbbbbbbbbbbbbbbbbb6677bbbbb77777777777bbbbbbbbbbbbbbbbbbbbbbbbb
00007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70000bbbbbbbbbbbbbbbbbbb7777bbbb777777777777777bbbbbbbbbbbbbbbbbbbbbb
000007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb700000bbbbbbbbbbbbbbbbbbb677777777777777777d777777bbbbbbbbbbbbbbbbbbbb
0000007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb7000000bbbbbbbbbbbbbbb77775576777777777777777767777777777bbbbbbbbbbbbbb
00000007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70000000bbbbbbbbbbbb77777776776777777777777777777777777777777bbbbbbbbbbb
00000007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb70000000bbbbbbbbbb77777767757767777777776777777777777777777777bbbbbbbbbb
000000007bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb700000000bbbbbbbbb67777777757777677777777777777777777777777d77777bbbbbbbb
00000000076bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb67000000000bbbbbbbbb7677777777777777777777777777777777777677777777bbbbbbbbb
0000000000766bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb6670000000000bbbbbbbbbb766777d7777777777777777777777777777777777667bbbbbbbbbb
00000000005776bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb67750000000000bbbbbbbbbbb776777777776777d77777777777777777777777677bbbbbbbbbbb
0000000005111766bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb6671115000000000bbbbbbbbbbbbb76677777777777777777777767777767777667bbbbbbbbbbbbb
000000000511117766bbbbbbbbbbbbbbbbbbbbbbbbbbbb667711115000000000bbbbbbbbbbbbbb77667777777777d7777777777777d7776677bbbbbbbbbbbbbb
0000000005111111776bbbbbbbbbbbbbbbbbbbbbbbbbb6771111115000000000bbbbbbbbbbbbbbbb7767777767777777777777d777777677bbbbbbbbbbbbbbbb
0000000000511111117666bbbbbbbbbbbbbbbbbbbb6667111111150000000000bbbbbbbbbbbbbbbbbb7666777777777777677777776667bbbbbbbbbbbbbbbbbb
00000000000511111117776666bbbbbbbbbbbb66667771111111500000000000bbbbbbbbbbbbbbbbbbb77766667777777777776666777bbbbbbbbbbbbbbbbbbb
0000000000515111111111777766666666666677771111111111500000000000bbbbbbbbbbbbbbbbbbbbbb77776666666666667777bbbbbbbbbbbbbbbbbbbbbb
0000000005111555111111111177777777777711111111115555150000000000bbbbbbbbbbbbbbbbbbbbbbbbbb777777777777bbbbbbbbbbbbbbbbbbbbbbbbbb
0000000051111511555111111111111111111111111115551511115000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000051111511111555551111111111111111555551115111115000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000051111155111111115555555555555555111111155111115000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000055111111551111111111111111111111111115511111155000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000051511111115511111111111111111111111551111111515000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000051151111111155555111111111111155555111111115115000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000051115551111111111555555555555511111111115551115000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000005111115551111111111111111111111111115551111150000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000000511111115555511111111111111111555551111111500000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000000051111111111155555555555555555111111111115000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000000005511111111111111111111111111111111111550000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000000000055111111111111111111111111111111155000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000555111111111111111111111111155500000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000555551111111111111115555500000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000005555555555555550000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
00080000800000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
88890000088800008889000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08800000008900000880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
